<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Tourism â€” Connect & Explore</title>

  <!-- Google Fonts: Outfit (Modern UI) + Playfair Display (Headings) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Playfair+Display:ital,wght@0,600;0,800;1,600&display=swap" rel="stylesheet">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css" />

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <style>
  /* ---------------- 1. RESET & BASE ---------------- */
  :root {
    --primary: #F8C308;
    --dark: #0b0f19;
    --text: #2c3e50;
    --light: #f8f9fa;
  }
  * { box-sizing: border-box; margin: 0; padding: 0; }
  html, body { width: 100%; overflow-x: hidden; } /* Removed height:100% to allow scroll growth */
  body { font-family: 'Outfit', sans-serif; color: var(--text); background: var(--light); line-height: 1.6; }
  a { text-decoration: none; color: inherit; transition: 0.3s; }
  h1, h2, h3, h4 { font-family: 'Playfair Display', serif; color: #111; }
  .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

  /* ---------------- 2. HEADER (OVERLAP FIX) ---------------- */
  header {
    position: relative;
    width: 100%;
    /* Flex Layout to manage vertical space */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-end; /* Pushes content down, search box handles bottom spacing */
    min-height: 100vh; /* Ensures it covers screen but grows if needed */
    background: #000;
    z-index: 10;
    padding-top: 100px; /* Space for fixed/absolute nav */
  }

  /* Three.js Background */
  #canvas-container {
    position: absolute;
    top: 0; left: 0; width: 100%; height: 100%;
    z-index: 1;
    pointer-events: auto; /* Allow interaction */
  }
  .header-bg {
    position: absolute;
    inset: 0;
    background-image: url('https://images.unsplash.com/photo-1451187580459-43490279c0fa?q=80&w=2072&auto=format&fit=crop');
    background-size: cover;
    background-position: center;
    opacity: 0.4;
    z-index: 0;
  }

  /* Navigation */
  .navBar {
    position: absolute;
    top: 0; left: 0; right: 0;
    display: flex; justify-content: space-between; align-items: center;
    padding: 30px 40px;
    z-index: 50;
  }
  .logo { color: #fff; font-weight: 800; font-size: 1.8rem; letter-spacing: 2px; text-transform: uppercase; }
  .navBar ul { display: flex; gap: 30px; list-style: none; }
  .navBar a { color: #fff; font-weight: 600; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 1px; position: relative; }
  .navBar a::after { content: ''; position: absolute; bottom: -4px; left: 0; width: 0; height: 2px; background: var(--primary); transition: 0.3s; }
  .navBar a:hover::after { width: 100%; }
  .nav-toggle { display: none; color: #fff; font-size: 1.5rem; cursor: pointer; z-index: 51; }

  /* Hero Text */
  .header-section {
    position: relative;
    z-index: 10;
    text-align: center;
    width: 90%;
    max-width: 900px;
    margin-bottom: auto; /* Pushes it to vertical center with margin-top: auto (implicit in flex) */
    margin-top: auto;
    pointer-events: none;
    padding-bottom: 40px; /* Gap before search box */
  }
  .hero-mask { overflow: hidden; display: block; }
  .header-section h1 {
    color: #fff; font-size: 5rem; line-height: 1.1; margin-bottom: 15px;
    text-shadow: 0 10px 30px rgba(0,0,0,0.5);
  }
  .header-section h2 {
    color: #ddd; font-size: 1.3rem; font-weight: 300; font-family: 'Outfit', sans-serif;
    letter-spacing: 4px; text-transform: uppercase;
  }

  /* Search Box (Floating Logic) */
  .travel-box-wrapper {
    position: relative;
    width: 100%;
    z-index: 20;
    /* This creates the floating overlap effect cleanly */
    transform: translateY(50%); 
  }

  .travel-box {
    width: 94%;
    max-width: 1140px;
    margin: 0 auto;
    background: #fff;
    border-radius: 20px;
    padding: 30px 40px;
    box-shadow: 0 30px 60px rgba(0,0,0,0.15);
    pointer-events: auto;
  }
  
  .travel-plans { display: flex; gap: 20px; align-items: center; flex-wrap: wrap; }
  
  .input-group { flex: 1; min-width: 200px; }
  .input-group label { display: block; font-size: 0.75rem; font-weight: 800; color: #95a5a6; margin-bottom: 8px; text-transform: uppercase; letter-spacing: 1px; }
  
  .custom-select { display: flex; align-items: center; background: #f8f9fa; padding: 16px; border-radius: 12px; border: 2px solid transparent; transition: 0.3s; }
  .custom-select:hover { background: #eee; }
  .custom-select:focus-within { border-color: var(--primary); background: #fff; box-shadow: 0 0 0 4px rgba(248,195,8,0.15); }
  .custom-select i { color: var(--primary); margin-right: 15px; font-size: 1.2rem; }
  select, input { border: none; background: transparent; outline: none; width: 100%; font-size: 1.05rem; color: #2c3e50; font-weight: 700; cursor: pointer; }
  
  .btn-search {
    background: var(--primary); color: #111; border: none; padding: 20px 40px; border-radius: 12px;
    font-weight: 800; cursor: pointer; text-transform: uppercase; letter-spacing: 1px;
    box-shadow: 0 10px 25px rgba(248,195,8,0.3); transition: transform 0.2s; white-space: nowrap;
  }
  .btn-search:active { transform: scale(0.95); }

  /* ---------------- 3. MAIN CONTENT ---------------- */
  main {
    background: #fff;
    position: relative;
    z-index: 2;
    /* Top padding compensates for the search box overlap (half height ~ 80px + buffer) */
    padding-top: 140px; 
    padding-bottom: 80px;
  }

  .section-header { text-align: center; margin-bottom: 60px; }
  .section-header h2 { font-size: 3rem; margin-bottom: 10px; }
  .section-header p { color: #7f8c8d; font-size: 1.1rem; }

  /* Cards */
  .tours-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 30px; }
  .tour-card {
    background: #fff; border-radius: 18px; overflow: hidden;
    box-shadow: 0 15px 35px rgba(0,0,0,0.06); cursor: pointer;
    transition: transform 0.3s, box-shadow 0.3s; position: relative;
  }
  .tour-card:hover { transform: translateY(-10px); box-shadow: 0 25px 50px rgba(0,0,0,0.12); }
  .tour-card-img { height: 260px; overflow: hidden; }
  .tour-card-img img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.7s; }
  .tour-card:hover img { transform: scale(1.1); }
  .tour-card-body { padding: 25px; }
  .tour-card h3 { font-size: 1.5rem; margin-bottom: 8px; font-family: 'Playfair Display', serif; }
  .badge-special {
    position: absolute; top: 15px; right: 15px; background: #fff; color: #d35400;
    padding: 6px 14px; border-radius: 8px; font-size: 0.75rem; font-weight: 800;
    z-index: 2; box-shadow: 0 4px 15px rgba(0,0,0,0.15); text-transform: uppercase;
  }

  /* Gallery Masonry */
  .gallery-masonry { column-count: 3; column-gap: 20px; }
  .g-item { break-inside: avoid; margin-bottom: 20px; border-radius: 16px; overflow: hidden; cursor: pointer; position: relative; }
  .g-item img { width: 100%; display: block; border-radius: 16px; transition: 0.4s; }
  .g-item:hover img { transform: scale(1.03); filter: brightness(0.9); }

  /* About */
  .about-container { display: flex; gap: 60px; align-items: center; margin-top: 40px; }
  .about-img img { width: 100%; border-radius: 24px; box-shadow: 20px 20px 0 var(--primary); }
  .about-features { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
  .about-features li { display: flex; align-items: center; gap: 10px; font-weight: 700; font-size: 1.1rem; }
  .about-features i { color: var(--primary); background: #111; width: 28px; height: 28px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.9rem; }

  /* Footer */
  footer { background: #111; color: #fff; padding: 80px 0 30px; margin-top: 100px; }
  .footer-content { display: flex; gap: 50px; flex-wrap: wrap; justify-content: space-between; }
  .footer-col { flex: 1; min-width: 250px; }
  .map-card { background: #222; padding: 8px; border-radius: 12px; height: 200px; overflow: hidden; }
  iframe { width: 100%; height: 100%; border: none; filter: grayscale(100%) invert(90%); }

  /* ---------------- 4. MODALS & UTILS ---------------- */
  .modal-backdrop {
    position: fixed; inset: 0; background: rgba(0,0,0,0.0); backdrop-filter: blur(0px);
    display: none; align-items: center; justify-content: center; z-index: 9999; transition: all 0.4s;
  }
  .modal-backdrop.active { background: rgba(0,0,0,0.7); backdrop-filter: blur(8px); }
  .modal {
    background: #fff; width: 90%; max-width: 900px; padding: 30px; border-radius: 20px;
    position: relative; max-height: 90vh; overflow-y: auto; opacity: 0; transform: translateY(50px);
  }
  
  .fab-wa {
    position: fixed; bottom: 30px; right: 30px; width: 64px; height: 64px; background: #25D366;
    border-radius: 50%; display: flex; align-items: center; justify-content: center; color: #fff;
    font-size: 32px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); z-index: 5000; transition: transform 0.2s;
  }
  .fab-wa:hover { transform: scale(1.1); }

  /* ---------------- 5. RESPONSIVE ---------------- */
  @media(max-width: 900px) {
    header { 
      min-height: auto; 
      padding-top: 90px;
      /* Remove bottom padding on mobile, let the stack flow naturally */
      padding-bottom: 40px; 
    }
    
    .navBar { padding: 20px; }
    .navBar ul { display: none; }
    .nav-toggle { display: block; }
    
    .header-section { margin-top: 30px; margin-bottom: 30px; }
    .header-section h1 { font-size: 3rem; }
    
    /* On Mobile, remove the floating overlap to prevent issues */
    .travel-box-wrapper {
      transform: none;
      margin-top: 20px;
      padding: 0 10px;
    }
    .travel-box {
      width: 100%;
      padding: 20px;
    }
    
    /* Reset main padding since box isn't floating anymore */
    main { padding-top: 60px; }
    
    .about-container { flex-direction: column; }
    .gallery-masonry { column-count: 1; }
    .about-img { width: 100%; }
    .about-img img { box-shadow: 10px 10px 0 var(--primary); }
    .btn-search { width: 100%; }
  }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header>
    <div class="header-bg"></div>
    <div id="canvas-container"></div>

    <nav class="navBar">
      <div class="logo">Tourism.</div>
      <ul>
        <li><a href="#" id="navContact">Local Guides</a></li>
        <li><a href="#gallery">Gallery</a></li>
        <li><a href="#about">About</a></li>
      </ul>
      <div class="nav-toggle" id="navToggle"><i class="fa-solid fa-bars"></i></div>
    </nav>

    <div class="header-section">
      <!-- Masks for Reveal Animation -->
      <span class="hero-mask"><h1 class="hero-line">Explore The</h1></span>
      <span class="hero-mask"><h1 class="hero-line">Unseen World</h1></span>
      <h2 class="hero-sub">Curated Journeys for Every Generation</h2>
    </div>

    <!-- SEARCH BOX WRAPPER -->
    <div class="travel-box-wrapper">
      <div class="travel-box">
        <div class="travel-plans">
          <div class="input-group">
            <label>Destination</label>
            <div class="custom-select">
              <i class="fa-solid fa-earth-americas"></i>
              <select id="destSelect">
                <option value="seniors">ðŸ‘´ Senior Citizens Group (Special)</option>
                <option value="mumbai">Mumbai, India</option>
                <option value="delhi">Delhi, India</option>
                <option value="goa">Goa, India</option>
                <option value="jaipur">Jaipur, Rajasthan</option>
                <option value="ladakh">Ladakh, Himalayas</option>
                <option value="kerala">Kerala, Backwaters</option>
              </select>
            </div>
          </div>

          <div class="input-group">
            <label>Date</label>
            <div class="custom-select">
              <i class="fa-regular fa-calendar"></i>
              <input type="text" placeholder="Choose Dates" onfocus="(this.type='date')" id="dateInput">
            </div>
          </div>

          <div class="input-group">
            <label>Guests</label>
            <div class="custom-select">
              <i class="fa-solid fa-user-group"></i>
              <select id="travelerSelect">
                <option>2 Guests</option>
                <option>Family (4)</option>
                <option>Large Group (10+)</option>
              </select>
            </div>
          </div>

          <button class="btn-search" id="btnSearch">Explore</button>
        </div>
      </div>
    </div>
  </header>

  <!-- MAIN -->
  <main class="container">
    
    <!-- Tours -->
    <section>
      <div class="section-header">
        <h2>Trending Destinations</h2>
        <p>Handpicked experiences for the modern traveler.</p>
      </div>
      <div id="toursGrid" class="tours-grid"></div>
    </section>

    <!-- Gallery -->
    <section id="gallery" style="margin-top:120px">
      <div class="section-header">
        <h2>Visual Stories</h2>
        <p>Captured moments from our community.</p>
      </div>
      <div class="gallery-masonry" id="mainGallery"></div>
    </section>

    <!-- About -->
    <section id="about">
      <div class="about-container">
        <div class="about-text">
          <h2 style="font-size:2.8rem;margin-bottom:20px">We Plan, You Pack.</h2>
          <p>We are a premium travel agency focused on safety, comfort, and authentic experiences. Our specialized <strong>"Senior Groups"</strong> allow the elderly to travel with medical support, paced itineraries, and like-minded companions.</p>
          <ul class="about-features">
            <li><i class="fa-solid fa-check"></i> 24/7 On-Trip Support</li>
            <li><i class="fa-solid fa-check"></i> Verified Premium Hotels</li>
            <li><i class="fa-solid fa-check"></i> Visa & Forex Assistance</li>
            <li><i class="fa-solid fa-check"></i> Local Expert Guides</li>
          </ul>
        </div>
        <div class="about-img">
          <img src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?q=80&w=2021&auto=format&fit=crop" alt="Travel">
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="container footer-content">
      <div class="footer-col">
        <div class="logo" style="margin-bottom:20px">Tourism.</div>
        <p style="color:#aaa;line-height:1.8">Making the world accessible to everyone. From Pimple Saudagar to the Globe.</p>
      </div>
      <div class="footer-col">
        <h4>Contact</h4>
        <p><i class="fa-solid fa-envelope" style="color:#F8C308;margin-right:10px"></i> support@tourism.com</p>
        <p><i class="fa-solid fa-phone" style="color:#F8C308;margin-right:10px"></i> +91 95297 30330</p>
      </div>
      <div class="footer-col">
        <h4>Visit Office</h4>
        <div class="map-card">
          <!-- Real Google Map Embed -->
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3781.365313988602!2d73.79125677519356!3d18.59914448250965!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3bc2b91d245781bd%3A0x6b6942c755359143!2sPimple%20Saudagar%2C%20Pimpri-Chinchwad%2C%20Maharashtra!5e0!3m2!1sen!2sin!4v1701332400000!5m2!1sen!2sin" allowfullscreen="" loading="lazy"></iframe>
        </div>
      </div>
    </div>
  </footer>

  <a href="https://wa.me/919529730330" class="fab-wa" target="_blank"><i class="fa-brands fa-whatsapp"></i></a>

  <!-- MODALS -->
  <div class="modal-backdrop" id="detailsModal">
    <div class="modal">
      <i class="fa-solid fa-xmark" id="closeDetails" style="position:absolute;top:20px;right:20px;font-size:1.5rem;cursor:pointer"></i>
      <div id="detailsContent"></div>
    </div>
  </div>

  <div class="modal-backdrop" id="contactModal">
    <div class="modal" style="max-width:500px">
      <i class="fa-solid fa-xmark" id="closeContact" style="position:absolute;top:20px;right:20px;font-size:1.5rem;cursor:pointer"></i>
      <h3>Local Guides</h3>
      <div id="contactGrid" style="margin-top:20px;display:grid;gap:10px"></div>
    </div>
  </div>

  <div class="modal-backdrop" id="searchModal">
    <div class="modal" style="max-width:400px;text-align:center">
       <i class="fa-solid fa-xmark" id="closeSearch" style="position:absolute;top:20px;right:20px;font-size:1.5rem;cursor:pointer"></i>
       <h3>Choose Destination</h3>
       <div id="cityList" style="margin-top:20px;display:grid;gap:10px;text-align:left"></div>
    </div>
  </div>

  <div class="modal-backdrop" id="lightbox" style="z-index:9999;background:rgba(0,0,0,0.95)">
    <img id="lightboxImg" src="" style="max-width:90%;max-height:90vh;border-radius:8px">
    <i class="fa-solid fa-xmark" id="closeLightbox" style="position:absolute;top:30px;right:30px;font-size:2rem;color:#fff;cursor:pointer"></i>
  </div>

  <script>
  // ================= 1. NEW THREE.JS ANIMATION (Network Connections) =================
  (function initThreeJS() {
    const container = document.getElementById('canvas-container');
    const scene = new THREE.Scene();
    
    // Camera
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 150;

    // Renderer
    const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    container.appendChild(renderer.domElement);

    // Group to hold everything
    const group = new THREE.Group();
    scene.add(group);

    // Particles Data
    const particleCount = 200;
    const geometry = new THREE.BufferGeometry();
    const positions = [];
    
    // Create random points on a sphere
    for(let i=0; i<particleCount; i++){
      const theta = THREE.Math.degToRad(Math.random() * 360);
      const phi = THREE.Math.degToRad(Math.random() * 360);
      const radius = 80 + Math.random() * 20;

      const x = radius * Math.sin(theta) * Math.cos(phi);
      const y = radius * Math.sin(theta) * Math.sin(phi);
      const z = radius * Math.cos(theta);

      positions.push(x, y, z);
    }
    
    geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
    const pMaterial = new THREE.PointsMaterial({color: 0xFFD166, size: 1.5, transparent: true, opacity: 0.8});
    const particles = new THREE.Points(geometry, pMaterial);
    group.add(particles);

    // Interactive Rotation
    let mouseX = 0;
    let mouseY = 0;
    document.addEventListener('mousemove', (e) => {
        mouseX = (e.clientX - window.innerWidth/2) * 0.0005;
        mouseY = (e.clientY - window.innerHeight/2) * 0.0005;
    });

    function animate() {
        // Continuous slow rotation
        group.rotation.y += 0.002;
        
        // Mouse interaction smoothing
        group.rotation.x += (mouseY - group.rotation.x) * 0.05;
        group.rotation.y += (mouseX - group.rotation.y) * 0.05;
        
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
    }
    animate();

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
  })();

  // ================= 2. GSAP ANIMATIONS =================
  (function initGSAP() {
    gsap.registerPlugin(ScrollTrigger);

    // 1. Text Reveal
    gsap.from(".hero-line", {
        y: 120,
        duration: 1.5,
        stagger: 0.2,
        ease: "power4.out",
        delay: 0.2
    });
    
    gsap.from(".hero-sub", {
        opacity: 0,
        y: 20,
        duration: 1,
        delay: 1.2,
        ease: "power2.out"
    });

    // 2. Search Box Drop (Elastic Bounce)
    // IMPORTANT: Wait for DOM to handle layout first
    gsap.from(".travel-box", {
        y: -100,
        opacity: 0,
        scale: 0.95,
        duration: 1.5,
        delay: 0.8,
        ease: "elastic.out(1, 0.5)"
    });

    // 3. Stagger Inputs
    gsap.from(".input-group", {
        y: 20,
        opacity: 0,
        duration: 0.6,
        stagger: 0.1,
        delay: 1.4,
        ease: "back.out(1.7)"
    });

    // 4. Scroll Animations (Cards)
    gsap.from(".tour-card", {
        scrollTrigger: { trigger: ".tours-grid", start: "top 85%" },
        y: 60, opacity: 0, duration: 0.8, stagger: 0.15
    });
    
    // 5. Scroll Animations (Gallery)
    gsap.from(".g-item", {
        scrollTrigger: { trigger: ".gallery-masonry", start: "top 85%" },
        y: 60, opacity: 0, duration: 0.8, stagger: 0.1
    });

    // Mobile Menu
    const nav = document.querySelector('.navBar ul');
    document.getElementById('navToggle').onclick = () => {
        if(nav.style.display === 'flex') {
            nav.style.display = 'none';
        } else {
            nav.style.display = 'flex';
            nav.style.flexDirection = 'column';
            nav.style.position = 'absolute';
            nav.style.top = '80px';
            nav.style.right = '20px';
            nav.style.background = '#222';
            nav.style.padding = '20px';
            nav.style.borderRadius = '10px';
            nav.style.width = '200px';
            nav.style.zIndex = '100';
        }
    };
  })();

  // ================= 3. APP LOGIC & DATA =================
  (function initApp(){
    const data = {
      seniors: {
        name: "Senior Citizens Group",
        desc: "Relaxed itinerary with medical support. Enjoy card games, music nights, and slow-paced sightseeing.",
        img: "https://images.unsplash.com/photo-1534125950882-72c72b8c9d41?q=80&w=1600",
        isSpecial: true,
        gallery: [
            "https://images.unsplash.com/photo-1552063920-c20536c4b9d5?q=80&w=600",
            "https://images.unsplash.com/photo-1516724562728-afc824a36e84?q=80&w=600",
            "https://images.unsplash.com/photo-1574709193635-f09c04d0b04c?q=80&w=600"
        ],
        plans: [
            {title: "Golden Years Goa (5D)", price: "â‚¹18,000", info: "Resort stay + Old Songs Night"},
            {title: "Spiritual Varanasi (3D)", price: "â‚¹14,000", info: "VIP Darshan + Boat Ride"}
        ],
        guides: [{name: "Dr. Sharma", phone: "919529730330"}, {name: "Mr. Deshmukh", phone: "919529730330"}]
      },
      mumbai: {
        name: "Mumbai",
        desc: "Heritage, sea, and bollywood dreams.",
        img: "https://images.unsplash.com/photo-1566552881560-0be862a7c445?q=80&w=1600",
        gallery: ["https://images.unsplash.com/photo-1570168007204-dfb528c6958f?q=80&w=600"],
        plans: [{title: "Mumbai Darshan", price: "â‚¹5,000", info: "Gateway, Marine Drive, Chowpatty"}],
        guides: [{name: "Ravi", phone: "919529730330"}]
      },
      goa: {
        name: "Goa",
        desc: "Beaches, parties, and portuguese history.",
        img: "https://images.unsplash.com/photo-1512343879784-a960bf40e7f2?q=80&w=1600",
        gallery: ["https://images.unsplash.com/photo-1590393766289-4b68e59e211b?q=80&w=600"],
        plans: [{title: "Beach Fun", price: "â‚¹12,000", info: "North Goa + Watersports"}],
        guides: [{name: "Roshan", phone: "919529730330"}]
      },
      delhi: {
        name: "Delhi",
        desc: "Capital city with Red Fort and Chandni Chowk.",
        img: "https://images.unsplash.com/photo-1587474260584-136574528ed5?q=80&w=1600",
        gallery: ["https://images.unsplash.com/photo-1595349090606-d7072f7a08b6?q=80&w=600"],
        plans: [{title: "Delhi Heritage", price: "â‚¹6,000", info: "History Walk + Street Food"}],
        guides: [{name: "Amit", phone: "919529730330"}]
      },
      ladakh: {
        name: "Ladakh",
        desc: "High passes, monasteries and Pangong lake.",
        img: "https://images.unsplash.com/photo-1581793434119-944dd80a402f?q=80&w=1600",
        gallery: ["https://images.unsplash.com/photo-1549646271-9c3f8510c439?q=80&w=600"],
        plans: [{title: "Bike Trip", price: "â‚¹25,000", info: "Leh - Nubra - Pangong"}],
        guides: [{name: "Tenzin", phone: "919529730330"}]
      }
    };

    const galleryImages = [
       "https://images.unsplash.com/photo-1507525428034-b723cf961d3e?q=80&w=600",
       "https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?q=80&w=600",
       "https://images.unsplash.com/photo-1526772662000-3f88f10405ff?q=80&w=600",
       "https://images.unsplash.com/photo-1504674900247-0877df9cc836?q=80&w=600",
       "https://images.unsplash.com/photo-1533105079780-92b9be482077?q=80&w=600",
       "https://images.unsplash.com/photo-1530789253388-582c481c54b0?q=80&w=600"
    ];

    // Render Grid
    const grid = document.getElementById('toursGrid');
    Object.keys(data).forEach(k => {
        const item = data[k];
        const card = document.createElement('div');
        card.className = 'tour-card';
        card.onclick = () => openDetails(k);
        card.innerHTML = `
            ${item.isSpecial ? '<div class="badge-special">Top Rated</div>' : ''}
            <div class="tour-card-img"><img src="${item.img}"></div>
            <div class="tour-card-body"><h3>${item.name}</h3><p>${item.desc}</p></div>
        `;
        grid.appendChild(card);
    });

    // Render Gallery
    const gal = document.getElementById('mainGallery');
    galleryImages.forEach(src => {
        gal.innerHTML += `<div class="g-item" onclick="openLightbox('${src}')"><img src="${src}"></div>`;
    });

    // Functions
    window.openDetails = (k) => {
        const item = data[k];
        if(!item) return;
        const plansHtml = item.plans.map(p => `
            <div style="background:#f9f9f9;padding:15px;border-radius:12px;margin-bottom:10px;border-left:4px solid #F8C308">
               <h4>${p.title}</h4>
               <p style="font-size:0.9rem;color:#666">${p.info}</p>
               <div style="display:flex;justify-content:space-between;align-items:center;margin-top:5px">
                 <span style="color:#e67e22;font-weight:bold">${p.price}</span>
                 <button onclick="bookWa('${item.name} - ${p.title}')" style="background:#111;color:#fff;border:none;padding:6px 12px;border-radius:6px;cursor:pointer">Book</button>
               </div>
            </div>
        `).join('');

        document.getElementById('detailsContent').innerHTML = `
            <img src="${item.img}" style="width:100%;height:300px;object-fit:cover;border-radius:12px;margin-bottom:15px">
            <h2>${item.name}</h2>
            <p style="margin-bottom:20px">${item.desc}</p>
            <h3>Packages</h3>
            ${plansHtml}
        `;
        openMod('detailsModal');
    };

    window.bookWa = (msg) => {
        window.open(`https://wa.me/919529730330?text=Booking Inquiry: ${msg}`, '_blank');
    }

    window.openLightbox = (src) => {
        document.getElementById('lightboxImg').src = src;
        openMod('lightbox');
    }

    function openMod(id){
        const m = document.getElementById(id);
        m.style.display = 'flex';
        setTimeout(()=> {
            m.classList.add('active');
            gsap.to(m.querySelector('.modal')||m.querySelector('img'), {opacity:1, y:0, scale:1, duration:0.3});
        },10);
    }
    
    // Close Logic
    document.querySelectorAll('.modal-backdrop').forEach(b => {
        b.onclick = (e) => {
            if(e.target === b || e.target.id.includes('close')) {
                b.classList.remove('active');
                gsap.to(b.querySelector('.modal')||b.querySelector('img'), {opacity:0, y:50, scale:0.95, duration:0.2});
                setTimeout(()=>b.style.display='none',300);
            }
        }
    });

    document.getElementById('navContact').onclick = () => {
        const c = document.getElementById('contactGrid');
        c.innerHTML = '';
        Object.values(data).forEach(d => {
             d.guides.forEach(g => {
                c.innerHTML += `<div style="padding:15px;background:#f4f4f4;border-radius:8px"><b>${g.name}</b> <br><small>Expert for ${d.name}</small> <br> <a href="https://wa.me/${g.phone}" style="color:green;font-weight:bold;margin-top:5px;display:inline-block">Chat on WhatsApp</a></div>`;
             });
        });
        openMod('contactModal');
    }

    document.getElementById('btnSearch').onclick = () => {
        const val = document.getElementById('destSelect').value;
        if(data[val]) openDetails(val);
        else {
            const l = document.getElementById('cityList');
            l.innerHTML = '';
            Object.keys(data).forEach(k => {
                l.innerHTML += `<div onclick="openDetails('${k}');document.getElementById('closeSearch').click()" style="padding:12px;background:#eee;border-radius:8px;cursor:pointer;font-weight:600">${data[k].name}</div>`;
            });
            openMod('searchModal');
        }
    }
  })();
  </script>
</body>
</html>